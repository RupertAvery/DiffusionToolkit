<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:viewModels="clr-namespace:DiffusionToolkit.AvaloniaApp.ViewModels"
        xmlns:converters="clr-namespace:DiffusionToolkit.AvaloniaApp.Converters"
        mc:Ignorable="d" d:DesignWidth="1200" d:DesignHeight="800"
        x:Class="DiffusionToolkit.AvaloniaApp.MainWindow"
        ExtendClientAreaToDecorationsHint="True"
        SizeChanged="Control_OnSizeChanged"
        PropertyChanged="AvaloniaObject_OnPropertyChanged"
        Title="DiffusionToolkit.AvaloniaApp">
  <Window.Resources>
    <converters:IsEqualConverter x:Key="IsEqualConverter"></converters:IsEqualConverter>
  </Window.Resources>

  <Design.DataContext>
    <viewModels:MainWindowViewModel/>
  </Design.DataContext>
  <!--
          ExtendClientAreaChromeHints="NoChrome" 
  -->
  <Border x:Name="MainBorder">
    <Grid RowDefinitions="40,2,*">
      <Grid ColumnDefinitions="*,Auto,*">
        <Grid Background="{x:Null}"
              Grid.Column="1" Width="600" ColumnDefinitions="45,45,45,Auto,45,45,45,45,45">

          <Button Grid.Column="0" Height="32" Width="42" HorizontalContentAlignment="Center" VerticalContentAlignment="Center">
            <Button.Content>
              <PathIcon Width="16" Height="16">
                <PathIcon.Data>
                  <StreamGeometry>M21.25,13 C21.6296958,13 21.943491,13.2821539 21.9931534,13.6482294 L22,13.75 L22,18.75 C22,20.4830315 20.6435452,21.8992459 18.9344239,21.9948552 L18.75,22 L14.0821526,22.0001508 C14.6184396,21.614656 15.0554244,21.0997106 15.3473717,20.50105 L18.75,20.5 C19.6681734,20.5 20.4211923,19.7928897 20.4941988,18.8935272 L20.5,18.75 L20.5,13.75 C20.5,13.3357864 20.8357864,13 21.25,13 Z M11.75,9 C13.5449254,9 15,10.4550746 15,12.25 L15,18.75 C15,20.5449254 13.5449254,22 11.75,22 L5.25,22 C3.45507456,22 2,20.5449254 2,18.75 L2,12.25 C2,10.4550746 3.45507456,9 5.25,9 L11.75,9 Z M7.71761187,17.3534213 L7.61611652,17.4445436 L4.66340036,20.3992635 C4.84677699,20.4644898 5.04424157,20.5 5.25,20.5 L11.75,20.5 C11.9557584,20.5 12.153223,20.4644898 12.3365996,20.3992635 L9.38388348,17.4445436 C8.96081549,17.0214757 8.30993487,16.9650666 7.82611684,17.2753165 L7.71761187,17.3534213 L7.71761187,17.3534213 Z M11.75,10.5 L5.25,10.5 C4.28350169,10.5 3.5,11.2835017 3.5,12.25 L3.5,18.75 C3.5,18.9557584 3.53551019,19.153223 3.60073647,19.3365996 L6.55545635,16.3838835 C7.58465058,15.3546892 9.22665998,15.3118062 10.3069221,16.2552342 L10.4445436,16.3838835 L13.3992635,19.3365996 C13.4644898,19.153223 13.5,18.9557584 13.5,18.75 L13.5,12.25 C13.5,11.2835017 12.7164983,10.5 11.75,10.5 Z M11,12 C11.5522847,12 12,12.4477153 12,13 C12,13.5522847 11.5522847,14 11,14 C10.4477153,14 10,13.5522847 10,13 C10,12.4477153 10.4477153,12 11,12 Z M18.75,2 C20.4830315,2 21.8992459,3.35645477 21.9948552,5.06557609 L22,5.25 L22,10.25 C22,10.6642136 21.6642136,11 21.25,11 C20.8703042,11 20.556509,10.7178461 20.5068466,10.3517706 L20.5,10.25 L20.5,5.25 C20.5,4.3318266 19.7928897,3.57880766 18.8935272,3.5058012 L18.75,3.5 L13.75,3.5 C13.3357864,3.5 13,3.16421356 13,2.75 C13,2.37030423 13.2821539,2.05650904 13.6482294,2.00684662 L13.75,2 L18.75,2 Z M10.25,2 C10.6642136,2 11,2.33578644 11,2.75 C11,3.12969577 10.7178461,3.44349096 10.3517706,3.49315338 L10.25,3.5 L5.25,3.5 C4.3318266,3.5 3.57880766,4.20711027 3.5058012,5.10647279 L3.5,5.25 L3.49995678,8.65213751 C2.90086677,8.9440857 2.38556009,9.38125981 1.9998492,9.91784739 L2,5.25 C2,3.51696854 3.35645477,2.10075407 5.06557609,2.00514479 L5.25,2 L10.25,2 Z</StreamGeometry>
                </PathIcon.Data>
              </PathIcon>
            </Button.Content>
            <Button.Flyout>
              <MenuFlyout Placement="BottomEdgeAlignedLeft">
                <MenuItem Header="192 x 192" Command="{Binding SetIconSizeCommand}" CommandParameter="192">
                  <MenuItem.Icon>
                    <CheckBox BorderThickness="0"
                              IsChecked="{Binding Settings.IconSize, Converter={StaticResource IsEqualConverter}, ConverterParameter=192}"
                              IsHitTestVisible="False"
                              IsEnabled="False">
                    </CheckBox>
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="256 x 256" Command="{Binding SetIconSizeCommand}" CommandParameter="256">
                  <MenuItem.Icon>
                    <CheckBox BorderThickness="0"
                              IsChecked="{Binding Settings.IconSize, Converter={StaticResource IsEqualConverter}, ConverterParameter=256}"
                              IsHitTestVisible="False"
                              IsEnabled="False">
                    </CheckBox>
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="512 x 512" Command="{Binding SetIconSizeCommand}" CommandParameter="512">
                  <MenuItem.Icon>
                    <CheckBox BorderThickness="0"
                              IsChecked="{Binding Settings.IconSize, Converter={StaticResource IsEqualConverter}, ConverterParameter=512}"
                              IsHitTestVisible="False"
                              IsEnabled="False">
                    </CheckBox>
                  </MenuItem.Icon>
                </MenuItem>
              </MenuFlyout>
            </Button.Flyout>
          </Button>

          <Button Grid.Column="1" Height="32" Width="42" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"
                  Classes.busy="{Binding IsBusy }"
                  Classes.notbusy="{Binding !IsBusy }"
                  >
            <Button.Styles>
              <Style Selector="Button.busy">
                <Setter Property="Background" Value="Red"></Setter>
              </Style>
              <Style Selector="Button.notbusy">
                <Setter Property="Background" Value="{DynamicResource BackgroundBrush}"></Setter>
              </Style>
            </Button.Styles>
            <Button.Content>
              <PathIcon Width="16" Height="16">
                <PathIcon.Data>
                  <StreamGeometry>M7.74944331,5.18010908 C8.0006303,5.50946902 7.93725859,5.9800953 7.60789865,6.23128229 C5.81957892,7.59514774 4.75,9.70820889 4.75,12 C4.75,15.7359812 7.57583716,18.8119527 11.2066921,19.2070952 L10.5303301,18.5303301 C10.2374369,18.2374369 10.2374369,17.7625631 10.5303301,17.4696699 C10.7965966,17.2034034 11.2132603,17.1791973 11.5068718,17.3970518 L11.5909903,17.4696699 L13.5909903,19.4696699 C13.8572568,19.7359365 13.8814629,20.1526002 13.6636084,20.4462117 L13.5909903,20.5303301 L11.5909903,22.5303301 C11.298097,22.8232233 10.8232233,22.8232233 10.5303301,22.5303301 C10.2640635,22.2640635 10.2398575,21.8473998 10.4577119,21.5537883 L10.5303301,21.4696699 L11.280567,20.7208479 C6.78460951,20.3549586 3.25,16.5902554 3.25,12 C3.25,9.23526399 4.54178532,6.68321165 6.6982701,5.03856442 C7.02763004,4.78737743 7.49825632,4.85074914 7.74944331,5.18010908 Z M13.4696699,1.46966991 C13.7625631,1.76256313 13.7625631,2.23743687 13.4696699,2.53033009 L12.7204313,3.27923335 C17.2159137,3.64559867 20.75,7.4100843 20.75,12 C20.75,14.6444569 19.5687435,17.0974104 17.5691913,18.7491089 C17.2498402,19.0129038 16.7771069,18.9678666 16.513312,18.6485156 C16.2495171,18.3291645 16.2945543,17.8564312 16.6139054,17.5926363 C18.2720693,16.2229363 19.25,14.1922015 19.25,12 C19.25,8.26436254 16.4246828,5.18861329 12.7943099,4.7930139 L13.4696699,5.46966991 C13.7625631,5.76256313 13.7625631,6.23743687 13.4696699,6.53033009 C13.1767767,6.8232233 12.701903,6.8232233 12.4090097,6.53033009 L10.4090097,4.53033009 C10.1161165,4.23743687 10.1161165,3.76256313 10.4090097,3.46966991 L12.4090097,1.46966991 C12.701903,1.1767767 13.1767767,1.1767767 13.4696699,1.46966991 Z</StreamGeometry>
                </PathIcon.Data>
              </PathIcon>
            </Button.Content>
            <Button.Flyout>
              <MenuFlyout Placement="BottomEdgeAlignedLeft">
                <MenuItem IsVisible="{Binding !IsBusy}" Header="Scan Folders" Command="{Binding ScanFoldersCommand}"></MenuItem>
                <MenuItem IsVisible="{Binding !IsBusy}" Header="Rebuild Database" Command="{Binding RebuildDatabaseCommand}"></MenuItem>
                <MenuItem IsVisible="{Binding IsBusy}" Header="Stop" Command="{Binding StopCommand}"></MenuItem>
              </MenuFlyout>
            </Button.Flyout>
          </Button>

          <Button Grid.Column="2" Height="32" Width="42" HorizontalContentAlignment="Center" VerticalContentAlignment="Center">
            <Button.Content>
              <PathIcon Width="16" Height="16">
                <PathIcon.Data>
                  <StreamGeometry>M12,9.0046246 C14.209139,9.0046246 16,10.7954856 16,13.0046246 C16,15.2137636 14.209139,17.0046246 12,17.0046246 C9.790861,17.0046246 8,15.2137636 8,13.0046246 C8,10.7954856 9.790861,9.0046246 12,9.0046246 Z M12,10.5046246 C10.6192881,10.5046246 9.5,11.6239127 9.5,13.0046246 C9.5,14.3853365 10.6192881,15.5046246 12,15.5046246 C13.3807119,15.5046246 14.5,14.3853365 14.5,13.0046246 C14.5,11.6239127 13.3807119,10.5046246 12,10.5046246 Z M12,5.5 C16.613512,5.5 20.5960869,8.65000641 21.7011157,13.0643865 C21.8017,13.4662019 21.557504,13.8734775 21.1556885,13.9740618 C20.7538731,14.0746462 20.3465976,13.8304502 20.2460132,13.4286347 C19.3071259,9.67795854 15.9213644,7 12,7 C8.07693257,7 4.69009765,9.68026417 3.75285786,13.4331499 C3.65249525,13.8350208 3.24535455,14.0794416 2.84348365,13.979079 C2.44161275,13.8787164 2.19719198,13.4715757 2.29755459,13.0697048 C3.4006459,8.65271806 7.38448293,5.5 12,5.5 Z</StreamGeometry>
                </PathIcon.Data>
              </PathIcon>
            </Button.Content>
            <Button.Flyout>
              <MenuFlyout Placement="BottomEdgeAlignedLeft">
                <MenuItem Header="NSFW" Command="{Binding ToggleNSFWCommand}">
                  <MenuItem.Icon>
                    <CheckBox BorderThickness="0"
                              IsChecked="{Binding !Settings.HideNSFW}"
                              IsHitTestVisible="False"
                              IsEnabled="False">
                    </CheckBox>
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Deleted" Command="{Binding ToggleDeletedCommand}">
                  <MenuItem.Icon>
                    <CheckBox BorderThickness="0"
                              IsChecked="{Binding !Settings.HideDeleted}"
                              IsHitTestVisible="False"
                              IsEnabled="False">
                    </CheckBox>
                  </MenuItem.Icon>
                </MenuItem>
              </MenuFlyout>
            </Button.Flyout>
          </Button>

          <Button Grid.Column="3" Margin="5"
                  Padding="10,2,10,2" CornerRadius="5"
                  BorderBrush="{DynamicResource ForegroundBrush}"
                  Click="Button_OnClick"
                  BorderThickness="1" Width="250">
            <Button.Styles>
              <Style Selector="FlyoutPresenter">
                <Setter Property="Width" Value="600" />
                <Setter Property="MaxWidth" Value="600" />
                <Setter Property="Height" Value="64" />
              </Style>
            </Button.Styles>

            <Grid IsHitTestVisible="False" ColumnDefinitions="20,*">
              <PathIcon Height="16" Width="16">
                <PathIcon.Data>
                  <StreamGeometry>M11.5,2.75 C16.3324916,2.75 20.25,6.66750844 20.25,11.5 C20.25,13.6461673 19.4773285,15.6118676 18.1949905,17.1340957 L25.0303301,23.9696699 C25.3232233,24.2625631 25.3232233,24.7374369 25.0303301,25.0303301 C24.7640635,25.2965966 24.3473998,25.3208027 24.0537883,25.1029482 L23.9696699,25.0303301 L17.1340957,18.1949905 C15.6118676,19.4773285 13.6461673,20.25 11.5,20.25 C6.66750844,20.25 2.75,16.3324916 2.75,11.5 C2.75,6.66750844 6.66750844,2.75 11.5,2.75 Z M11.5,4.25 C7.49593556,4.25 4.25,7.49593556 4.25,11.5 C4.25,15.5040644 7.49593556,18.75 11.5,18.75 C15.5040644,18.75 18.75,15.5040644 18.75,11.5 C18.75,7.49593556 15.5040644,4.25 11.5,4.25 Z</StreamGeometry>
                </PathIcon.Data>
              </PathIcon>
              <Label Grid.ColumnSpan="2" FontSize="12" Foreground="{DynamicResource ForegroundBrush}" VerticalContentAlignment="Center" HorizontalContentAlignment="Center">Diffusion Toolkit</Label>
            </Grid>
            <FlyoutBase.AttachedFlyout>
              <Flyout Placement="Bottom" FlyoutPresenterClasses="flyoutBackground">
                <Border Background="#88808080">
                  <TextBox Height="32" KeyDown="Search_OnKeyDown"></TextBox>
                </Border>
              </Flyout>
            </FlyoutBase.AttachedFlyout>
          </Button>

          <Button Grid.Column="4" Height="32" Width="42" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"
                  ToolTip.Placement="Bottom">
            <ToolTip.Tip>
              <Label Content="{Binding Settings.SortBy}"></Label>
            </ToolTip.Tip>
            <Button.Content>
              <PathIcon Width="16" Height="16">
                <PathIcon.Data>
                  <StreamGeometry>M2.21978635,9.9670294 L7.96978635,4.2195535 L8.055,4.146 L8.11269139,4.10760235 L8.11269139,4.10760235 L8.18503989,4.06911416 L8.18503989,4.06911416 L8.28978911,4.02991567 L8.28978911,4.02991567 L8.39481013,4.00736963 L8.39481013,4.00736963 L8.4470348,4.00185057 L8.5,4 L8.55711621,4.00214234 L8.55711621,4.00214234 L8.64909717,4.01488655 L8.64909717,4.01488655 L8.75557218,4.04469887 L8.75557218,4.04469887 L8.84123664,4.08190061 L8.84123664,4.08190061 L8.89515395,4.11241606 L8.95830264,4.15627192 L8.95830264,4.15627192 L9.03021365,4.2195535 L14.7802136,9.9670294 C15.0731712,10.2598583 15.0732754,10.734732 14.7804465,11.0276895 C14.5142384,11.2940146 14.09758,11.3183121 13.8039207,11.1005221 L13.7197864,11.0279224 L9.24961357,6.55955034 L9.25,23.25 C9.25,23.6642136 8.91421356,24 8.5,24 C8.12030423,24 7.80650904,23.7178461 7.75684662,23.3517706 L7.75,23.25 L7.74961357,6.55955034 L3.28021365,11.0279224 C3.01388864,11.2941305 2.59721965,11.3182451 2.30365599,11.1003262 L2.2195535,11.0276895 C1.9533454,10.7613645 1.92923082,10.3446956 2.14714973,10.0511319 L2.21978635,9.9670294 Z M19.5,4 C19.8796958,4 20.193491,4.28215388 20.2431534,4.64822944 L20.25,4.75 L20.25,21.437 L24.7197864,16.9695535 L24.8039207,16.8969538 C25.09758,16.6791638 25.5142384,16.7034613 25.7804465,16.9697864 C26.0466546,17.2361114 26.0707692,17.6527804 25.8528503,17.946344 L25.7802136,18.0304465 L20.0524657,23.7572356 C19.9153796,23.9064669 19.7186127,24 19.5,24 C19.3178227,24 19.1508162,23.9350465 19.0208756,23.8270346 L18.9475343,23.7572356 L13.2197864,18.0304465 L13.1471497,17.946344 C12.953444,17.6853985 12.9509747,17.3271847 13.1397838,17.0637545 L13.2195535,16.9697864 L13.303656,16.8971497 C13.5646015,16.703444 13.9228153,16.7009747 14.1862455,16.8897838 L14.2802136,16.9695535 L18.75,21.439 L18.75,4.75 L18.7568466,4.64822944 C18.806509,4.28215388 19.1203042,4 19.5,4 Z</StreamGeometry>
                </PathIcon.Data>
              </PathIcon>
            </Button.Content>
            <Button.Flyout>
              <MenuFlyout Placement="BottomEdgeAlignedLeft">
                <MenuItem Header="Date Created" Command="{Binding SortByCommand}" CommandParameter="Date Created">
                  <MenuItem.Icon>
                    <CheckBox BorderThickness="0"
                              IsChecked="{Binding Settings.SortBy, Converter={StaticResource IsEqualConverter}, ConverterParameter=Date Created}"
                              IsHitTestVisible="False"
                              IsEnabled="False">
                    </CheckBox>
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Date Modified" Command="{Binding SortByCommand}" CommandParameter="Date Modified">
                  <MenuItem.Icon>
                    <CheckBox BorderThickness="0"
                              IsChecked="{Binding Settings.SortBy, Converter={StaticResource IsEqualConverter}, ConverterParameter=Date Modified}"
                              IsHitTestVisible="False"
                              IsEnabled="False">
                    </CheckBox>
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Rating" Command="{Binding SortByCommand}" CommandParameter="Rating">
                  <MenuItem.Icon>
                    <CheckBox BorderThickness="0"
                              IsChecked="{Binding Settings.SortBy, Converter={StaticResource IsEqualConverter}, ConverterParameter=Rating}"
                              IsHitTestVisible="False"
                              IsEnabled="False">
                    </CheckBox>
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Aesthetic Score" Command="{Binding SortByCommand}" CommandParameter="Aesthetic Score">
                  <MenuItem.Icon>
                    <CheckBox BorderThickness="0"
                              IsChecked="{Binding Settings.SortBy, Converter={StaticResource IsEqualConverter}, ConverterParameter=Aesthetic Score}"
                              IsHitTestVisible="False"
                              IsEnabled="False">
                    </CheckBox>
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Prompt" Command="{Binding SortByCommand}" CommandParameter="Prompt">
                  <MenuItem.Icon>
                    <CheckBox BorderThickness="0"
                              IsChecked="{Binding Settings.SortBy, Converter={StaticResource IsEqualConverter}, ConverterParameter=Prompt}"
                              IsHitTestVisible="False"
                              IsEnabled="False">
                    </CheckBox>
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Random" Command="{Binding SortByCommand}" CommandParameter="Random">
                  <MenuItem.Icon>
                    <CheckBox BorderThickness="0"
                              IsChecked="{Binding Settings.SortBy, Converter={StaticResource IsEqualConverter}, ConverterParameter=Random}"
                              IsHitTestVisible="False"
                              IsEnabled="False">
                    </CheckBox>
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Name" Command="{Binding SortByCommand}" CommandParameter="Name">
                  <MenuItem.Icon>
                    <CheckBox BorderThickness="0"
                              IsChecked="{Binding Settings.SortBy, Converter={StaticResource IsEqualConverter}, ConverterParameter=Name}"
                              IsHitTestVisible="False"
                              IsEnabled="False">
                    </CheckBox>
                  </MenuItem.Icon>
                </MenuItem>
              </MenuFlyout>
            </Button.Flyout>
          </Button>

          <Button Grid.Column="5" Height="32" Width="42" Content="{Binding Settings.SortOrder}" FontSize="12"  HorizontalContentAlignment="Center" VerticalContentAlignment="Center">
            <Button.Flyout>
              <MenuFlyout Placement="BottomEdgeAlignedLeft">
                <MenuItem Header="A-Z" Command="{Binding SortOrderCommand}" CommandParameter="A-Z"></MenuItem>
                <MenuItem Header="Z-A" Command="{Binding SortOrderCommand}" CommandParameter="Z-A"></MenuItem>
              </MenuFlyout>
            </Button.Flyout>
          </Button>

          <!--<Button Grid.Column="5"  Height="32" Width="42" HorizontalContentAlignment="Center" VerticalContentAlignment="Center">
            <Button.Content>
              <PathIcon Width="16" Height="16">
                <PathIcon.Data>
                  <StreamGeometry>M19.25,3.99813 C20.7125481,3.99813 21.9084055,5.13983743 21.9949813,6.58060798 L22,6.74813 L22,17.2518 C22,18.7143481 20.8583111,19.9102055 19.4175241,19.9967813 L19.25,20.0018 L4.75,20.0018 C3.28747111,20.0018 2.09159594,18.8601111 2.00501881,17.4193241 L2,17.2518 L2,6.74813 C2,5.28559148 3.14170743,4.08972523 4.58247798,4.00314877 L4.75,3.99813 L19.25,3.99813 Z M19.25,5.49813 L15.9959,5.49813 L15.9958,18.5018 L19.25,18.5018 C19.89725,18.5018 20.4295391,18.0099641 20.4935469,17.3796125 L20.5,17.2518 L20.5,6.74813 C20.5,6.1009175 20.0081641,5.56859563 19.3778125,5.50458356 L19.25,5.49813 Z M14.4959,5.49813 L4.75,5.49813 C4.10279688,5.49813 3.5704668,5.99000109 3.50645367,6.62032409 L3.5,6.74813 L3.5,17.2518 C3.5,17.89905 3.99187109,18.4313391 4.62219409,18.4953469 L4.75,18.5018 L14.4959,18.5018 Z</StreamGeometry>
                </PathIcon.Data>
              </PathIcon>
            </Button.Content>
            <Button.Flyout>
              <MenuFlyout Placement="BottomEdgeAlignedLeft">
                <MenuItem Header="Metadata" Command="{Binding ToggleMetadataCommand}">
                  <MenuItem.Icon>
                    <CheckBox BorderThickness="0"
                              IsChecked="{Binding !Settings.ShowMetadata}"
                              IsHitTestVisible="False"
                              IsEnabled="False">
                    </CheckBox>
                  </MenuItem.Icon>
                </MenuItem>
              </MenuFlyout>
            </Button.Flyout>
          </Button>-->

        </Grid>
      </Grid>
      <Grid Row="1">
        <ProgressBar IsVisible="{Binding IsBusy}" HorizontalAlignment="Stretch" Value="{Binding CurrentProgress}" Maximum="{Binding TotalProgress}">
          <ToolTip.Tip>
            <Grid Width="250">
              <Label Content="{Binding ProgressStatus}" Padding="10"
                     HorizontalContentAlignment="Center"
                     VerticalContentAlignment="Center"></Label>
            </Grid>
          </ToolTip.Tip>
        </ProgressBar>
      </Grid>
      <Grid Row="2" ColumnDefinitions="42,*">
        <ListBox
            ItemsSource="{Binding NavigationMenuItems}"
            SelectedItem="{Binding CurrentMenuItem, Mode=TwoWay}">
          <ListBox.ItemTemplate>
            <DataTemplate>
              <PathIcon Height="24" Width="24" Data="{Binding Icon}"></PathIcon>
            </DataTemplate>
          </ListBox.ItemTemplate>
        </ListBox>
        <ContentControl Grid.Column="1" Content="{Binding CurrentPage}"></ContentControl>
      </Grid>
    </Grid>
  </Border>

</Window>
